/*! jQuery Scrollbar - v0.1.1 - 2014-10-22
* https://github.com/amazingSurge/jquery-asScrollbar
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b){"use strict";var c="asScrollbar",d=a[c]=function(b,c){this.$bar=a(c),b=this.options=a.extend({},d.defaults,b||{}),this.classes={barClass:b.namespace+"-"+b.barClass,handleClass:b.namespace+"-"+b.handleClass,directionClass:b.directionClass?b.namespace+"-"+b.directionClass:b.namespace+"-"+b.direction},b.skin&&(this.classes.skinClass=b.namespace+"-"+b.skin);var e;"vertical"===this.options.direction?e=this.oriAttr={x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight",overflow:"overflow-y",pageOffset:"pageYOffset",mouseAttr:"pageY"}:"horizontal"===this.options.direction&&(e=this.oriAttr={x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth",overflow:"overflow-x",pageOffset:"pageXOffset",mouseAttr:"pageX"});var f=this.$handle=this.$bar.find("."+this.classes.handleClass),g=f[0];c=this.$bar[0],this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable",!1),b.skin&&this.$bar.addClass(this.classes.skinClass),b.barLength!==!1&&this.setBarLength(b.barLength),b.handleLength!==!1&&this.setHanldeLength(b.handleLength),this.hLength=g[e.client],this.bLength=c[e.client]-this.hLength,this.hPosition=0,this.initEvent()};d.defaults={skin:!1,mousewheel:10,barLength:!1,handleLength:!1,namespace:"asScrollbar",barClass:"scrollbar",handleClass:"handle",minHandleLength:30,direction:"vertical"},d.prototype={constructor:d,eventName:function(a){if("string"!=typeof a||""===a)return!1;a=a.split(" ");for(var b=this.options.namespace,c=a.length,d=0;c>d;d++)a[d]=a[d]+"."+b;return a.join(" ")},initEvent:function(){var c=this,d=this.$bar;d.on("mousedown",function(d){var e=c.oriAttr,f=c.bLength,g=c.hLength,h=c.$handle,i=c.getHanldeOffset();if(!(0>=f||0>=g))if(a(d.target).is(h))c.dragStart=d[e.mouseAttr],c.isDrag=!0,h.addClass("is-drag"),c.$bar.trigger(c.eventName("dragstart")),a(b).on(c.eventName("selectstart"),function(){return!1}),a(b).on(c.eventName("mousemove"),function(a){if(c.isDrag){var b=c.oriAttr,d=a[b.mouseAttr],e=c.dragStart,f=i+d-e;c.handleMove(f,!1,!0)}}),a(b).one(c.eventName("mouseup blur"),function(){c.$handle.removeClass("is-drag"),c.$bar.trigger("dragend."+c.options.namespace),c.isDrag=!1,a(b).off(c.eventName("selectstart mousemove"))});else{var j=d[e.mouseAttr]-c.$bar.offset()[e.pos]-g/2;c.handleMove(j,!1,!0)}}),d.on("mousewheel",function(a,b){var d=c.getHanldeOffset();return 0>=d&&b>0?!0:d>=c.bLength&&0>b?!0:(d-=c.options.mousewheel*b,c.handleMove(d,!1,!0),!1)})},setBarLength:function(a){"undefined"!=typeof a&&this.$bar.css(this.oriAttr.size,a),this.setLength()},setHandleLength:function(a){"undefined"!=typeof a&&(a<this.options.minHandleLength&&(a=this.options.minHandleLength),this.$handle.css(this.oriAttr.size,a)),this.setLength()},setLength:function(){this.hLength=this.$handle[0][this.oriAttr.client],this.bLength=this.$bar[0][this.oriAttr.client]-this.hLength},getHanldeOffset:function(){return parseFloat(this.$handle.css(this.oriAttr.pos).replace("px",""))},setHandleOffset:function(a){this.$handle.css(this.oriAttr.pos,a)},handleMove:function(a,b,c){var d,e=this.$handle,f={},g=this.getHanldeOffset(),h=this.bLength,i=this.oriAttr,j=this.$bar;b?(d=a,0>d?a=0:d>1&&(a=1),a*=h):(0>a?a=0:a>h&&(a=h),d=a/h),c&&j.trigger(this.eventName("change"),[d,"bar"]),(0!==g||0!==a)&&(1===a&&b&&g===this.bLength||(a!==this.bLength||g!==this.bLength)&&(f[i.pos]=a,e.css(f)))}},a.fn[c]=function(b){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a(this).data(c);return d&&a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,e):!1})}else this.each(function(){a(this).data(c)||a(this).data(c,new d(b,this))});return this}}(jQuery,document,window,void 0),function(a,b,c){"use strict";var d="asScrollable",e=a[d]=function(b,c){var d=this.$container=a(c);b=this.options=a.extend({},e.defaults,b||{}),this.classes={contentClass:b.namespace+"-"+b.contentClass,wrapperClass:b.namespace+"-"+b.wrapperClass,barClass:b.namespace+"-"+b.barClass,verticalBarClass:b.namespace+"-"+b.verticalBarClass,horizontalBarClass:b.namespace+"-"+b.horizontalBarClass,handleClass:b.namespace+"-"+b.handleClass,directionClass:b.namespace+"-"+b.direction,scrollableClass:b.namespace+"-"+b.scrollableClass,scrollingClass:b.namespace+"-"+b.scrollingClass},this.oriAttr={vertical:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight",overflow:"overflow-y",pageOffset:"pageYOffset",mouseAttr:"pageY"},horizontal:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth",overflow:"overflow-x",pageOffset:"pageXOffset",mouseAttr:"pageX"}},b.skin&&(this.classes.skinClass=b.namespace+"-"+b.skin);var f=this.$content=d.find("."+this.classes.contentClass);0===f.length&&(d.wrapInner('<div class="'+this.classes.contentClass+'"/>'),f=this.$content=d.find("."+this.classes.contentClass));var g=this.$wrapper=d.find("."+this.classes.wrapperClass);0===g.length&&(f.wrap('<div class="'+this.classes.wrapperClass+'"/>'),g=this.$wrapper=f.parents("."+this.classes.wrapperClass)),g.css("overflow","hidden"),d.css({overflow:"hidden",position:"relative"}),b.skin&&d.addClass(this.classes.skinClass),this.origPosition=0,this.origHanlePosition=0,"horizontal"===b.direction||"vertical"===b.direction?this.initLayout(b.direction):(this.initLayout("vertical"),this.initLayout("horizontal"))};e.defaults={contentClass:"content",wrapperClass:"wrapper",barClass:"scrollbar",verticalBarClass:"vertical-bar",horizontalBarClass:"horizontal-bar",scrollableClass:"is-scrollable",scrollingClass:"is_scrolling",barTmpl:'<div class="{{scrollbar}}"><div class="{{handle}}"></div></div>',handleClass:"handle",direction:"vertical",namespace:"asScrollable",mousewheel:10,duration:500,skin:!1,responsive:!1,showOnhover:!1,toOffset:50},e.prototype={constructor:e,initLayout:function(a){var b=this.$wrapper,c=b[0],d=this.$container,e=this.oriAttr[a];"horizontal"===a?d.css("height",d.height()):b.css("height",d.height()),b.css(e.overflow,"scroll"),b.css(e.crossSize,c.parentNode[e.crossClient]+c[e.crossOffset]-c[e.crossClient]+"px"),this.initBarLayout(a),this.initEvent()},initBarLayout:function(b){var c,d=this.oriAttr[b],e=this.options,f=this.$wrapper,g=this.$wrapper[0],h=this.$content[0];"undefined"==typeof this.getBar("direction")?(c=this.$container.find("."+this.classes[b+"BarClass"]),0===c.length&&(c=a(e.barTmpl.replace(/\{\{scrollbar\}\}/g,this.classes.barClass).replace(/\{\{handle\}\}/g,this.classes.handleClass)),c.appendTo(f)),c.asScrollbar({namespace:e.namespace,skin:e.skin,barClass:e.barClass,directionClass:e[b+"BarClass"],handleClass:e.handleClass,direction:b}),this.setBar(b,c)):c=this.getBar(b);var i,j,k=c[0],l=this.getBarPlugin(b),m=h[d.offset],n=g[d.client];m-n>0?(c.css("visibility","hidden").show(),l.setHandleLength(k[d.client]*n/m),c.css("visibility","visible"),i=this.getPercentOffset(b),j=i*l.bLength,0!==j&&l.handleMove(j,!1),this.hasBar(b,!0),this.$wrapper.addClass(this.classes.scrollableClass),this.hideBar(b)):(this.hasBar(b,!1),this.$wrapper.removeClass(this.classes.scrollableClass),this.hideBar(b))},initEvent:function(){var d,e=this,f=this.options,g=this.$wrapper,h=this.$container;g.on("scroll",function(){var b,c=e.offsetTop,d=e.offsetLeft;e.offsetTop=e.getContentOffset("vertical"),e.offsetLeft=e.getContentOffset("horizontal"),e.offsetTop!==c&&(b=e.getPercentOffset("vertical"),a(this).trigger(e.eventName("change"),[b,"content","vertical"])),e.offsetLeft!==d&&(b=e.getPercentOffset("horizontal"),a(this).trigger(e.eventName("change"),[b,"content","horizontal"]))}),h.on(this.eventName("change"),function(b,c,f,g){if("bar"===f){var i=a(b.target);i.hasClass(e.classes.verticalBarClass)?e.move(c,!0,"vertical"):i.hasClass(e.classes.horizontalBarClass)&&e.move(c,!0,"horizontal")}else"content"===f&&(e.getBarPlugin(g).handleMove(c,!0),clearTimeout(d),d=setTimeout(function(){h.removeClass(e.classes.scrollingClass)},200));h.addClass(e.classes.scrollingClass),0===c?e.$container.trigger(e.eventName("hitstart")):1===c&&e.$container.trigger(e.eventName("hitend"))}),h.on("mouseenter",function(){e.isOverContainer=!0,"horizontal"===f.direction||"vertical"===f.direction?e.showBar(f.direction):(e.showBar("vertical"),e.showBar("horizontal"))}),h.on("mouseleave",function(){e.isOverContainer=!1,"horizontal"===f.direction||"vertical"===f.direction?e.hideBar(f.direction):(e.hideBar("vertical"),e.hideBar("horizontal"))}),a(b).on("blur mouseup",function(){h.removeClass(e.classes.scrollingClass)}),f.responsive&&a(c).resize(function(){h.removeAttr("style"),g.removeAttr("style"),"horizontal"===f.direction||"vertical"===f.direction?e.initLayout(f.direction):(e.initLayout("vertical"),e.initLayout("horizontal"))})},eventName:function(a){if("string"!=typeof a||""===a)return!1;a=a.split(" ");for(var b=this.options.namespace,c=a.length,d=0;c>d;d++)a[d]=a[d]+"."+b;return a.join(" ")},setBar:function(a,b){this["$"+a+"Bar"]=b},getBar:function(a){return this["$"+a+"Bar"]},hasBar:function(a,b){return"undefined"==typeof b?this["has"+a+"Bar"]:void(this["has"+a+"Bar"]=b)},showBar:function(a){this.hasBar(a)&&this.getBar(a).show()},hideBar:function(a){this.options.showOnhover&&this.hasBar(a)?this.isOverContainer||this.getBarPlugin(a).isDrag||this.getBar(a).hide():this.hasBar(a)||this.getBar(a).hide()},getBarPlugin:function(a){return this.getBar(a).data("asScrollbar")},getContentOffset:function(a){var b=this.oriAttr[a],c=this.$wrapper[0];return c[b.pageOffset]||c[b.scroll]},getPercentOffset:function(a){var b=this.oriAttr[a],c=this.$wrapper[0],d=this.$content[0];return this.getContentOffset(a)/(d[b.client]-c[b.offset])},move:function(a,b,c,d){var e=this.oriAttr[c],f=this.options,g=this.$wrapper[0],h=this.$content[0];if(b){if(a>1||0>a)return!1;a=-a*(g[e.offset]-h[e.client])}var i={};i[e.scroll]=a,d?this.$wrapper.stop().animate(i,f.duration):g[e.scroll]=a},to:function(b,c,d){var e,f,g,h,i=this.oriAttr[c],j=this.$wrapper[0];e="string"==typeof b?a(b,this.$content):b,0!==e.length&&(e.length>1&&(e=e.get(0)),f=this.getElementOffset(e),g=e[i.size](),h=g+f-j[i.offset],h>0?this.move(f+this.getContentOffset()-this.options.toOffset,!1,d):0>f&&this.move(f+this.getContentOffset()-this.options.toOffset,!1,d))},destory:function(){"horizontal"===this.options.direction||"vertical"===this.options.direction?this.getBar(this.options.direction):(this.getBar("vertical").remove(),this.getBar("horizontal").remove()),this.$container.html(this.$content.html()),this.$container.removeData(d)}},a.fn[d]=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var e=a(this).data(d);return e&&a.isFunction(e[b])&&"_"!==b.charAt(0)?void e[b].apply(e,c):!1})}else this.each(function(){a(this).data(d)?a(this).data(d).initLayout():a(this).data(d,new e(b,this))});return this}}(jQuery,document,window);