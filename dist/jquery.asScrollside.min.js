/*! jQuery Scrollbar - v0.1.1 - 2014-10-10
* https://github.com/amazingSurge/jquery-asScrollbar
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b){"use strict";var c="asScrollbar",d=a[c]=function(b,c){this.$bar=a(c),b=this.options=a.extend({},d.defaults,b||{}),this.classes={barClass:b.namespace+"-"+b.barClass,handleClass:b.namespace+"-"+b.handleClass,directionClass:b.namespace+"-"+b.direction},b.skin&&(this.classes.skinClass=b.namespace+"-"+b.skin);var e;"vertical"===this.options.direction?e=this.oriAttr={x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight",overflow:"overflow-y",pageOffset:"pageYOffset",mouseAttr:"pageY"}:"horizontal"===this.options.direction&&(e=this.oriAttr={x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth",overflow:"overflow-x",pageOffset:"pageXOffset",mouseAttr:"pageX"});var f=this.$handle=this.$bar.find("."+this.classes.handleClass),g=f[0];c=this.$bar[0],this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable",!1),b.skin&&this.$bar.addClass(this.classes.skinClass),b.barLength!==!1&&this.setBarLength(b.barLength),b.handleLength!==!1&&this.setHanldeLength(b.handleLength),this.hLength=g[e.client],this.bLength=c[e.client]-this.hLength,this.hPosition=0,this.initEvent()};d.defaults={skin:!1,mousewheel:10,barLength:!1,handleLength:!1,namespace:"asScrollbar",barClass:"scrollbar",handleClass:"handle",minHandleLength:30,direction:"vertical"},d.prototype={constructor:d,eventName:function(a){if("string"!=typeof a||""===a)return!1;a=a.split(" ");for(var b=this.options.namespace,c=a.length,d=0;c>d;d++)a[d]=a[d]+"."+b;return a.join(" ")},initEvent:function(){var c=this,d=this.$bar;d.on("mousedown",function(d){var e=c.oriAttr,f=c.bLength,g=c.hLength,h=c.$handle,i=c.getHanldeOffset();if(!(0>=f||0>=g))if(a(d.target).is(h))c.dragStart=d[e.mouseAttr],c.isDrag=!0,h.addClass("is-drag"),c.$bar.trigger(c.eventName("dragstart")),a(b).on(c.eventName("selectstart"),function(){return!1}),a(b).on(c.eventName("mousemove"),function(a){if(c.isDrag){var b=c.oriAttr,d=a[b.mouseAttr],e=c.dragStart,f=i+d-e;c.handleMove(f,!1,!0)}}),a(b).one(c.eventName("mouseup blur"),function(){c.$handle.removeClass("is-drag"),c.$bar.trigger("dragend."+c.options.namespace),c.isDrag=!1,a(b).off(c.eventName("selectstart mousemove"))});else{var j=d[e.mouseAttr]-c.$bar.offset()[e.pos]-g/2;c.handleMove(j,!1,!0)}}),d.on("mousewheel",function(a,b){var d=c.getHanldeOffset();return 0>=d&&b>0?!0:d>=c.bLength&&0>b?!0:(d-=c.options.mousewheel*b,c.handleMove(d,!1,!0),!1)})},setBarLength:function(a){"undefined"!=typeof a&&this.$bar.css(this.oriAttr.size,a),this.setLength()},setHandleLength:function(a){"undefined"!=typeof a&&(a<this.options.minHandleLength&&(a=this.options.minHandleLength),this.$handle.css(this.oriAttr.size,a)),this.setLength()},setLength:function(){this.hLength=this.$handle[0][this.oriAttr.client],this.bLength=this.$bar[0][this.oriAttr.client]-this.hLength},getHanldeOffset:function(){return parseFloat(this.$handle.css(this.oriAttr.pos).replace("px",""))},setHandleOffset:function(a){this.$handle.css(this.oriAttr.pos,a)},handleMove:function(a,b,c){var d,e=this.$handle,f={},g=this.getHanldeOffset(),h=this.bLength,i=this.oriAttr,j=this.$bar;b?(d=a,0>d?a=0:d>1&&(a=1),a*=h):(0>a?a=0:a>h&&(a=h),d=a/h),c&&j.trigger(this.eventName("change"),[d,"bar"]),(0!==g||0!==a)&&(1===a&&b&&g===this.bLength||(a!==this.bLength||g!==this.bLength)&&(f[i.pos]=a,e.css(f)))}},a.fn[c]=function(b){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a(this).data(c);return d&&a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,e):!1})}else this.each(function(){a(this).data(c)||a(this).data(c,new d(b,this))});return this}}(jQuery,document,window,void 0),function(a,b,c){"use strict";var d="asScrollSide",e=a[d]=function(b,c){this.$side=a(c),this.options=b=a.extend({},e.defaults,b||{}),this.classes={barClass:b.namespace+"-"+b.barClass,handleClass:b.namespace+"-"+b.handleClass,contentClass:b.namespace+"-"+b.contentClass,scrollableClass:b.namespace+"-"+b.scrollableClass},b.skin&&(this.classes.skinClass=b.namespace+"-"+b.skin),this.offset=0,b.skin&&this.$side.addClass(this.classes.skinClass),this.$side.css({position:"fixed",top:0}),this.$side.wrapInner(a("<div/>").addClass(this.classes.contentClass)),this.$content=this.$side.find("."+this.classes.contentClass).css({position:"absolute",top:0,width:"100%"}),this.isOverContainer=!1,this.hasBar=!0,this.initLayout(),this.initEvent()};e.prototype={constructor:e,eventName:function(a){if("string"!=typeof a||""===a)return!1;a=a.split(" ");for(var b=this.options.namespace,c=a.length,d=0;c>d;d++)a[d]=a[d]+"."+b;return a.join(" ")},initLayout:function(){this.height=this.$content.height(),this.wHeight=b.body.clientHeight,this.options.adjust>0&&(this.wHeight=this.wHeight-this.options.adjust),this.max=this.height-this.wHeight,0!==this.offset&&this.move(this.offset,!0),this.initBarLayout()},initBarLayout:function(){var b=this.$side,c=this.options,d=this.height,e=this.wHeight;"undefined"==typeof this.$bar&&(this.$bar=this.$side.find("."+this.classes.barClass),0===this.$bar.length&&(this.$bar=a(c.barTmpl.replace(/\{\{scrollbar\}\}/g,this.classes.barClass).replace(/\{\{handle\}\}/g,this.classes.handleClass)),this.$bar.appendTo(b)),this.$bar.asScrollbar({barLength:c.barLength,handleLength:c.handleLength,namespace:c.namespace,skin:c.skin,mousewheel:c.delta,barClass:c.barClass,handleClass:c.handleClass,showOnHover:!1}));var f=this.$scrollbar=this.$bar.data("asScrollbar"),g=this.$bar,h=g[0];c.adjust>0&&f.setBarLength(this.wHeight),d>e?(this.$bar.css("visibility","hidden").show(),f.setHandleLength(h.clientHeight*e/d),this.offset&&f.handleMove(this.offset,!0),this.$bar.css("visibility","visible"),this.hasBar=!0,this.$side.addClass(this.classes.scrollableClass),this.hideBar()):(this.hasBar=!1,this.$side.removeClass(this.classes.scrollableClass),this.hideBar())},initEvent:function(){var d=this,e=this.$bar,f=this.$content,g=this.$side;g.on(d.eventName("scroll"),function(){var b=d.getPercentOffset();a(this).trigger(d.eventName("change"),[b,"content"])}),f.on("mousewheel",function(a,b){if(!(d.wHeight>d.height)){var c=d.getOffset();if(c+=d.options.mousewheel*b,c=d.move(c),c!==!1){var e=-c/d.max;d.$content.trigger(d.eventName("change"),[e,"content"])}}}),e.on("mousedown",function(){d.$side.css({"user-focus":"ignore","user-input":"disabled","user-select":"none"}),a(b).one(d.eventName("mouseup blur"),function(){d.$side.css({"user-focus":"inherit","user-input":"inherit","user-select":"inherit"}),d.hideBar()})}),g.on(d.eventName("change"),function(a,b,c){"bar"===c?d.move(b,!0):"content"===c&&d.$bar.data("asScrollbar").handleMove(b,!0),g.addClass("is-scrolled"),0===b?(g.removeClass("is-scrolled"),d.$side.trigger(d.eventName("hitstart"))):1===b&&d.$side.trigger(d.eventName("hitend")),d.offset=b}),g.on("mouseenter",function(){d.isOverContainer=!0,d.showBar()}),g.on("mouseleave",function(){d.isOverContainer=!1,d.hideBar()}),a(c).resize(function(){d.initLayout()})},getPercentOffset:function(){return-this.getOffset()/(this.$content.height()-this.$side.height())},getOffset:function(){return parseInt(this.$content.css("top").replace("px",""),10)},getElementOffset:function(a){for(var b,c=0;;){if(c+=a.position().top,a.is(this.$side))break;if(b=a.offsetParent(),b.is("html")){if(a.parent().is("html"))break;a=a.parent()}else a=b}return c},move:function(a,b,c){var d=this,e=this.options;if(b){if(a>1||0>a)return!1;a=-a*this.max}else a>0?a=0:a<-this.max&&(a=-this.max);return this.getOffset()!==a?(c?this.$content.animate({top:a},{speed:e.duration,step:function(){d.$content.trigger(d.eventName("scroll"))}}):(this.$content.css("top",a),this.$content.trigger(d.eventName("scroll"))),a):!1},to:function(b,c){var d,e,f,g,h=this.$side[0];d="string"==typeof b?a(b,this.$content):b,0!==d.length&&(d.length>1&&(d=d.get(0)),e=this.getElementOffset(d)+this.getOffset(),f=d.height(),g=f+e-h.offsetHeight,g>0?this.move(-e-this.options.toOffset,!1,c):0>e&&this.move(-e-this.options.toOffset,!1,c))},showBar:function(){this.hasBar&&this.$bar.show()},hideBar:function(){this.options.showOnhover&&this.hasBar?this.isOverContainer||this.$scrollbar.isDrag||this.$bar.hide():this.hasBar||this.$bar.hide()},destory:function(){this.$bar.remove(),this.$side.html(this.$content.html()),this.$side.removeData(d)}},e.defaults={skin:!1,mousewheel:10,barLength:!1,handleLength:!1,showOnhover:!1,namespace:"asScrollable",barTmpl:'<div class="{{scrollbar}}"><div class="{{handle}}"></div></div>',barClass:"scrollbar",handleClass:"handle",contentClass:"content",scrollableClass:"is-scrollable",adjust:0,duration:500,toOffset:50},a.fn[d]=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var e=a(this).data(d);return e&&a.isFunction(e[b])&&"_"!==b.charAt(0)?void e[b].apply(e,c):!1})}else this.each(function(){a(this).data(d)||a(this).data(d,new e(b,this))});return this}}(jQuery,document,window,void 0);