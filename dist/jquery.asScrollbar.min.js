/*! jQuery Scrollbar - v0.2.0 - 2014-11-22
* https://github.com/amazingSurge/jquery-asScrollbar
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b){"use strict";var c="asScrollbar",d=a[c]=function(b,c){this.$bar=a(c),b=this.options=a.extend({},d.defaults,b||{}),this.classes={directionClass:b.namespace+"-"+b.direction,barClass:b.barClass?b.barClass:b.namespace,handleClass:b.handleClass?b.handleClass:b.namespace+"-handle"},"vertical"===this.options.direction?this.attributes={x:"Y",pos:"top",size:"height",client:"clientHeight",offset:"offsetHeight",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight",overflow:"overflow-y",pageOffset:"pageYOffset",mousePosition:"pageY"}:"horizontal"===this.options.direction&&(this.attributes={x:"X",pos:"left",size:"width",client:"clientWidth",offset:"offsetWidth",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth",overflow:"overflow-x",pageOffset:"pageXOffset",mousePosition:"pageX"}),this.init()};d.defaults={namespace:"asScrollbar",skin:!1,mousewheel:10,template:'<div class="{{handle}}"></div>',barLength:!1,handleLength:!1,barClass:null,handleClass:null,minHandleLength:30,direction:"vertical"},d.prototype={constructor:d,init:function(){var b=this.options;this.$handle=this.$bar.find("."+this.classes.handleClass),0===this.$handle.length&&(this.$handle=a(b.template.replace(/\{\{handle\}\}/g,this.classes.handleClass)).appendTo(this.$bar));var c=this.$handle[0],d=this.$bar[0];this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable",!1),b.skin&&this.$bar.addClass(b.skin),b.barLength!==!1&&this.setBarLength(b.barLength),b.handleLength!==!1&&this.setHanldeLength(b.handleLength),this.handleLenght=c[this.attributes.client],this.barLength=d[this.attributes.client]-this.handleLenght,this.handlePosition=0,this.bindEvent()},eventName:function(a){if("string"!=typeof a||""===a)return!1;a=a.split(" ");for(var b=this.options.namespace,c=a.length,d=0;c>d;d++)a[d]=a[d]+"."+b;return a.join(" ")},bindEvent:function(){var c=this,d=this.$bar;d.on("mousedown",function(d){var e=c.attributes,f=c.barLength,g=c.handleLenght,h=c.$handle,i=c.getHanldeOffset();if(!(0>=f||0>=g))if(a(d.target).is(h))c.dragStart=d[e.mousePosition],c.isDrag=!0,h.addClass("is-drag"),c.$bar.trigger(c.eventName("dragstart")),a(b).on(c.eventName("selectstart"),function(){return!1}),a(b).on(c.eventName("mousemove"),function(a){if(c.isDrag){var b=c.attributes,d=(c.barLength,a[b.mousePosition]),e=c.dragStart,f=i+d-e;c.handleMove(f,!1,!0)}}),a(b).one(c.eventName("mouseup blur"),function(){c.$handle.removeClass("is-drag"),c.$bar.trigger("dragend."+c.options.namespace),c.isDrag=!1,a(b).off(c.eventName("selectstart mousemove"))});else{var j=d[e.mousePosition]-c.$bar.offset()[e.pos]-g/2;c.handleMove(j,!1,!0)}}),d.on("mousewheel",function(a,b){var d=c.getHanldeOffset();return 0>=d&&b>0?!0:d>=c.barLength&&0>b?!0:(d-=c.options.mousewheel*b,c.handleMove(d,!1,!0),!1)})},setBarLength:function(a){"undefined"!=typeof a&&this.$bar.css(this.attributes.size,a),this.setLength()},setHandleLength:function(a){"undefined"!=typeof a&&(a<this.options.minHandleLength&&(a=this.options.minHandleLength),this.$handle.css(this.attributes.size,a)),this.setLength()},setLength:function(){this.handleLenght=this.$handle[0][this.attributes.client],this.barLength=this.$bar[0][this.attributes.client]-this.handleLenght},getHanldeOffset:function(){return parseFloat(this.$handle.css(this.attributes.pos).replace("px",""))},setHandleOffset:function(a){this.$handle.css(this.attributes.pos,a)},handleMove:function(a,b,c){var d,e=this.$handle,f={},g=this.getHanldeOffset(),h=this.barLength,i=(this.handleLenght,this.attributes),j=this.$bar;b?(d=a,0>d?a=0:d>1&&(a=1),a*=h):(0>a?a=0:a>h&&(a=h),d=a/h),c&&j.trigger(this.eventName("change"),[d,"bar"]),(0!==g||0!==a)&&(1===a&&b&&g===this.barLength||(a!==this.barLength||g!==this.barLength)&&(f[i.pos]=a,e.css(f)))}},a.fn[c]=function(b){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a(this).data(c);return d&&a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,e):!1})}else this.each(function(){a(this).data(c)||a(this).data(c,new d(b,this))});return this}}(jQuery,document,window,void 0);