/*! jQuery Scrollbar - v0.2.0 - 2014-12-15
* https://github.com/amazingSurge/jquery-asScrollbar
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";function e(){return"undefined"!=typeof c.performance&&c.performance.now?c.performance.now():Date.now()}function f(a){return"string"==typeof a&&-1!=a.indexOf("%")}function g(a){return parseFloat(a.slice(0,-1)/100,10)}function h(a){return a&&"matrix"==a.substr(0,6)?a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}var i="asScrollbar";Date.now||(Date.now=function(){return(new Date).getTime()});for(var j=["webkit","moz"],k=0;k<j.length&&!c.requestAnimationFrame;++k){var l=j[k];c.requestAnimationFrame=c[l+"RequestAnimationFrame"],c.cancelAnimationFrame=c[l+"CancelAnimationFrame"]||c[l+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS (6|7)/.test(c.navigator.userAgent)||!c.requestAnimationFrame||!c.cancelAnimationFrame){var m=0;c.requestAnimationFrame=function(a){var b=e(),c=Math.max(m+16,b);return setTimeout(function(){a(m=c)},c-b)},c.cancelAnimationFrame=clearTimeout}var n=a[i]=function(b,c){this.$bar=a(c),b=this.options=a.extend({},n.defaults,b||{},this.$bar.data("options")||{}),this.classes={directionClass:b.namespace+"-"+b.direction,barClass:b.barClass?b.barClass:b.namespace,handleClass:b.handleClass?b.handleClass:b.namespace+"-handle"},"vertical"===this.options.direction?this.attributes={axis:"Y",position:"top",length:"height",clientLength:"clientHeight"}:"horizontal"===this.options.direction&&(this.attributes={axis:"X",position:"left",length:"width",clientLength:"clientWidth"}),this._states={},this._drag={time:null,pointer:null},this._frameId=null,this.handlePosition=0,this.easing=n.easing[this.options.easing]||n.easing.ease,this.init()},o={};n.support=o,function(e){function f(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+i.join(f+" ")+f).split(" "),function(a,b){return h[b]!==d?(e=c?b:!0,!1):void 0}),e}function g(a){return f(a,!0)}var h=a("<support>").get(0).style,i=["webkit","Moz","O","ms"],j={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},k={csstransforms:function(){return!!f("transform")},csstransforms3d:function(){return!!f("perspective")},csstransitions:function(){return!!f("transition")},cssanimations:function(){return!!f("animation")}};k.csstransitions()&&(e.transition=new String(g("transition")),e.transition.end=j.transition.end[e.transition]),k.cssanimations()&&(e.animation=new String(g("animation")),e.animation.end=j.animation.end[e.animation]),k.csstransforms()&&(e.transform=new String(g("transform")),e.transform3d=k.csstransforms3d()),e.touch="ontouchstart"in c||c.DocumentTouch&&b instanceof c.DocumentTouch?!0:!1,e.pointer=c.PointerEvent||c.MSPointerEvent?!0:!1,e.prefixPointerEvent=function(a){return c.MSPointerEvent?"MSPointer"+a.charAt(9).toUpperCase()+a.substr(10):a}}(o),n.defaults={namespace:"asScrollbar",skin:!1,template:'<div class="{{handle}}"></div>',barClass:null,handleClass:null,draggingClass:"is-dragging",direction:"vertical",barLength:null,handleLength:null,minHandleLength:30,maxHandleLength:null,mouseDrag:!0,touchDrag:!0,pointerDrag:!0,clickMove:!0,clickMoveStep:.3,mousewheel:!0,mousewheelSpeed:50,keyboard:!0,useCssTransforms3d:!0,useCssTransforms:!0,useCssTransitions:!0,duration:"500",easing:"ease"};var p=function(a,b,c,d){function e(a,b){return 1-3*b+3*a}function f(a,b){return 3*b-6*a}function g(a){return 3*a}function h(a,b,c){return((e(b,c)*a+f(b,c))*a+g(b))*a}function i(a,b,c){return 3*e(b,c)*a*a+2*f(b,c)*a+g(b)}function j(b){for(var d=b,e=0;4>e;++e){var f=i(d,a,c);if(0===f)return d;var g=h(d,a,c)-b;d-=g/f}return d}return a===b&&c===d?{css:"linear",fn:function(a){return a}}:{css:"cubic-bezier("+a+","+b+","+c+","+d+")",fn:function(a){return h(j(a),b,d)}}};a.extend(n.easing={},{ease:p(.25,.1,.25,1),linear:p(0,0,1,1),"ease-in":p(.42,0,1,1),"ease-out":p(0,0,.58,1),"ease-in-out":p(.42,0,.58,1)}),n.prototype={constructor:n,init:function(){var b=this.options;this.$handle=this.$bar.find("."+this.classes.handleClass),0===this.$handle.length&&(this.$handle=a(b.template.replace(/\{\{handle\}\}/g,this.classes.handleClass)).appendTo(this.$bar)),this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable",!1),b.skin&&this.$bar.addClass(b.skin),null!==b.barLength&&this.setBarLength(b.barLength),null!==b.handleLength&&this.setHandleLength(b.handleLength),this.updateLength(),this.bindEvents()},trigger:function(a){var b=Array.prototype.slice.call(arguments,1),c=[this].concat(b);this.$bar.trigger(i+"::"+a,c),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var d="on"+a;"function"==typeof this.options[d]&&this.options[d].apply(this,b)},is:function(a){return this._states[a]&&this._states[a]>0},enter:function(a){this._states[a]===d&&(this._states[a]=0),this._states[a]++},leave:function(a){this._states[a]--},eventName:function(a){if("string"!=typeof a||""===a)return"."+this.options.namespace;a=a.split(" ");for(var b=a.length,c=0;b>c;c++)a[c]=a[c]+"."+this.options.namespace;return a.join(" ")},bindEvents:function(){var c=this;this.options.mouseDrag&&(this.$handle.on(this.eventName("mousedown"),a.proxy(this.onDragStart,this)),this.$handle.on(this.eventName("dragstart selectstart"),function(){return!1})),this.options.touchDrag&&o.touch&&(this.$handle.on(this.eventName("touchstart"),a.proxy(this.onDragStart,this)),this.$handle.on(this.eventName("touchcancel"),a.proxy(this.onDragEnd,this))),this.options.pointerDrag&&o.pointer&&(this.$handle.on(this.eventName(o.prefixPointerEvent("pointerdown")),a.proxy(this.onDragStart,this)),this.$handle.on(this.eventName(o.prefixPointerEvent("pointercancel")),a.proxy(this.onDragEnd,this))),this.options.clickMove&&this.$bar.on(this.eventName("mousedown"),a.proxy(this.onClick,this)),this.options.mousewheel&&this.$bar.on(this.eventName("mousewheel"),function(a,b){var d=c.getHandlePosition();return 0>=d&&b>0?!0:d>=c.barLength&&0>b?!0:(d-=c.options.mousewheelSpeed*b,c.move(d,!0),!1)}),this.options.keyboard&&(this.$bar.on(this.eventName("mouseenter"),function(){c.enter("hovered")}),this.$bar.on(this.eventName("mouseleave"),function(){c.leave("hovered")}),a(b).on(this.eventName("keydown"),function(d){if((!d.isDefaultPrevented||!d.isDefaultPrevented())&&c.is("hovered")){for(var e=b.activeElement;e.shadowRoot;)e=e.shadowRoot.activeElement;if(!a(e).is(":input,select,option,[contenteditable]")){var f=0,g=null;switch(d.which){case 37:case 63232:f=-30;break;case 38:case 63233:f=-30;break;case 39:case 63234:f=30;break;case 40:case 63235:f=30;break;case 33:case 63276:f=-90;break;case 32:case 34:case 63277:f=-90;break;case 35:case 63275:g="100%";break;case 36:case 63273:g=0;break;default:return}(f||null!==g)&&(f?c.moveBy(f,!0):null!==g&&c.moveTo(g,!0),d.preventDefault())}}}))},onClick:function(a){if(3!==a.which&&a.target!==this.$handle[0]){this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(a);var b=this.$handle.offset(),c=this.distance({x:b.left,y:b.top},this._drag.pointer),d=1;c>0?c-=this.handleLength:(c=Math.abs(c),d=-1),c>this.barLength*this.options.clickMoveStep&&(c=this.barLength*this.options.clickMoveStep),this.moveBy(d*c,!0)}},onDragStart:function(c){var d=this;if(3!==c.which){this.$bar.addClass(this.options.draggingClass),this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(c);var e=function(){d.enter("dragging"),d.trigger("drag")};this.options.mouseDrag&&(a(b).on(d.eventName("mouseup"),a.proxy(this.onDragEnd,this)),a(b).one(d.eventName("mousemove"),a.proxy(function(){a(b).on(d.eventName("mousemove"),a.proxy(this.onDragMove,this)),e()},this))),this.options.touchDrag&&o.touch&&(a(b).on(d.eventName("touchend"),a.proxy(this.onDragEnd,this)),a(b).one(d.eventName("touchmove"),a.proxy(function(){a(b).on(d.eventName("touchmove"),a.proxy(this.onDragMove,this)),e()},this))),this.options.pointerDrag&&o.pointer&&(a(b).on(d.eventName(o.prefixPointerEvent("pointerup")),a.proxy(this.onDragEnd,this)),a(b).one(d.eventName(o.prefixPointerEvent("pointermove")),a.proxy(function(){a(b).on(d.eventName(o.prefixPointerEvent("pointermove")),a.proxy(this.onDragMove,this)),e()},this))),a(b).on(d.eventName("blur"),a.proxy(this.onDragEnd,this))}},onDragMove:function(a){var b=this.distance(this._drag.pointer,this.pointer(a));this.is("dragging")&&(a.preventDefault(),this.moveBy(b,!0))},onDragEnd:function(){a(b).off(this.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")),this.$bar.removeClass(this.options.draggingClass),this.handlePosition=this.getHandlePosition(),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},pointer:function(a){var b={x:null,y:null};return a=a.originalEvent||a||c.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(b.x=a.pageX,b.y=a.pageY):(b.x=a.clientX,b.y=a.clientY),b},distance:function(a,b){return"vertical"===this.options.direction?b.y-a.y:b.x-a.x},setBarLength:function(a,b){"undefined"!=typeof a&&this.$bar.css(this.attributes.length,a),b!==!1&&this.updateLength()},setHandleLength:function(a,b){"undefined"!=typeof a&&(a<this.options.minHandleLength?a=this.options.minHandleLength:this.options.maxHandleLength&&a>this.options.maxHandleLength&&(a=this.options.maxHandleLength),this.$handle.css(this.attributes.length,a)),b!==!1&&this.updateLength()},updateLength:function(){this.handleLength=this.$handle[0][this.attributes.clientLength],this.barLength=this.$bar[0][this.attributes.clientLength]},getHandlePosition:function(){var a;if(this.options.useCssTransforms&&o.transform){if(a=h(this.options.useCssTransforms3d&&o.transform3d?this.$handle.css(o.transform):this.$handle.css(o.transform)),!a)return 0;a="X"===this.attributes.axis?a[12]||a[4]:a[13]||a[5]}else a=this.$handle.css(this.attributes.position);return parseFloat(a.replace("px",""))},makeHandlePositionStyle:function(a){var b,c="0px",d="0px";this.options.useCssTransforms&&o.transform?("X"===this.attributes.axis?c=a+"px":d=a+"px",b=o.transform.toString(),a=this.options.useCssTransforms3d&&o.transform3d?"translate3d("+c+","+d+",0px)":"translate("+c+","+d+")"):b=this.attributes.position;var e={};return e[b]=a,e},setHandlePosition:function(a){var b=this.makeHandlePositionStyle(a);this.$handle.css(b),this.is("dragging")||(this.handlePosition=parseFloat(a))},moveTo:function(a,b){var c=typeof a;"string"===c&&(f(a)&&(a=g(a)*(this.barLength-this.handleLength)),a=parseFloat(a),c="number"),"number"===c&&this.move(a,b)},moveBy:function(a,b){var c=typeof a;"string"===c&&(f(a)&&(a=g(a)*(this.barLength-this.handleLength)),a=parseFloat(a),c="number"),"number"===c&&this.move(this.handlePosition+a,b)},move:function(a,b){"number"==typeof a&&(0>a?a=0:a+this.handleLength>this.barLength&&(a=this.barLength-this.handleLength),b&&this.trigger(this.eventName("change"),[a/(this.barLength-this.handleLength)]),this.is("dragging")?this.setHandlePosition(a):this.doMove(a))},doMove:function(a,b,d){this.enter("moving"),b=b?b:this.options.duration,d=d?d:this.options.easing;var f=this,g=this.makeHandlePositionStyle(a);for(var h in g)break;if(this.options.useCssTransitions&&o.transition)f.enter("transition"),this.prepareTransition(h,b,d),this.$handle.one(o.transition.end,function(){f.$handle.css(o.transition,""),f.leave("transition"),f.leave("moving")}),f.setHandlePosition(a);else if(h===o.transform.toString()){f.enter("transform");var i=e(),j=f.getHandlePosition(),k=a,l=function(a){var b=(a-i)/f.options.duration;b>1&&(b=1);var d=parseFloat(j+f.easing.fn(b)*(k-j),10).toFixed(2);f.setHandlePosition(d),1===b?(c.cancelAnimationFrame(f._frameId),f._frameId=null,f.leave("transform"),f.leave("moving")):f._frameId=c.requestAnimationFrame(l)};f._frameId=c.requestAnimationFrame(l)}else f.leave("animating"),this.$handle.animate(g,{duration:b,easing:"swing"},function(){f.setHandlePosition(current),f.leave("animating"),f.leave("moving")})},prepareTransition:function(b,c,d,e){var f=[];b&&f.push(b),c&&(a.isNumeric(c)&&(c+="ms"),f.push(c)),f.push(d?d:this.easing.css),e&&f.push(e),this.$handle.css(o.transition,f.join(" "))},destory:function(){this.$bar.on(this.eventName())}},a.fn[i]=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a(this).data(i);return d&&a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,c):!1})}else this.each(function(){a(this).data(i)||a(this).data(i,new n(b,this))});return this},console.dir(a[i])}(jQuery,document,window,void 0);